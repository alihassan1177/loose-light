---

import MainLayout from "../../layouts/MainLayout.astro"

export async function getStaticPaths(){
	const response = await fetch("https://jsonplaceholder.typicode.com/users")
	const users = await response.json()

	return users.map(user =>({
		params : {
			username: user.username.split(" ").join("_").toLowerCase()
		},
		props : {
			user
		}
	}))
}

const { name, email, phone, website } = Astro.props.user

---

<MainLayout>
	<a href="/users" class="block mt-6 underline">Go Back</a>
	<h1 class="heading">{name}</h1>
	<p>{email}</p>
	<p>{phone}</p>
	<p>{website}</p>
</MainLayout>
